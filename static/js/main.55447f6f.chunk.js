(this.webpackJsonprealtime_chat=this.webpackJsonprealtime_chat||[]).push([[0],{103:function(e,a,t){e.exports=t(149)},108:function(e,a,t){},112:function(e,a,t){},141:function(e,a){},149:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),o=t.n(c),l=t(20),s=(t(108),t(180)),i=t(187),m=t(188),u=t(184),d=t(185),g=t(150),f=Object(s.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(25),height:e.spacing(25)}}}));var h=function(e,a,t){a&&t||(e.preventDefault(),alert("All fields are mandatory"))};var v=t(89),E=t(10),p=t(83),b=t(84),y=t(92),N=t(91),j=(t(112),t(56)),O=t.n(j),C=t(85),k=t.n(C),S=t(186),_=t(86),x=t.n(_),R=t(87),w=t.n(R),D=t(88),M=t.n(D),J=k()("https://realtimechat-server1.herokuapp.com/"),T=Object(s.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(8),height:e.spacing(8),color:e.palette.getContrastText("#4849A1"),backgroundColor:"#4849A1"}}}));function A(){var e=T(),a=Object(n.useState)([]),t=Object(l.a)(a,2),c=t[0],o=t[1];if(Object(n.useEffect)((function(){J.on("users",(function(e){var a=e.online;c.length=0,o(c.concat(a))})),console.log(c)}),[c]),J)return r.a.createElement("div",{className:"online-form"},r.a.createElement("div",{className:"online-formNavContainer"},r.a.createElement("h2",null,"Active Users (",c.length,")")),r.a.createElement("div",{className:"online-formList"},r.a.createElement("ul",{style:{listStyleType:"none",paddingLeft:0}},c.map((function(a){return r.a.createElement("li",{key:a.name,className:"online-listitem"},r.a.createElement("div",{className:"online-formCard"},r.a.createElement("div",{className:e.root},r.a.createElement(m.a,{className:e.large},a.name.charAt(0).toUpperCase())),r.a.createElement("h2",null,a.name)))})))))}var W=function(e){Object(y.a)(t,e);var a=Object(N.a)(t);function t(e){var n;Object(p.a)(this,t),(n=a.call(this,e)).scrollToBottom=function(){n.refs.mess.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})};var r=O.a.parse(n.props.location.search),c=r.name,o=r.rid;return n.state={name:c,room:o,message:"",messagelist:[{message:"Welcome ".concat(c,"!"),room:o,from:"admin"}]},J.on("message",(function(e){var a=e.message,t=e.room,r=e.from;console.log(r+":"+a+" in "+t),n.setState({messagelist:n.state.messagelist.concat({message:a,room:t,from:r})})})),n}return Object(b.a)(t,[{key:"sendMessage",value:function(e){var a=this;console.log("Sending message "+e),e&&J.emit("sendMessage",J.id,this.state.room,e,(function(e){var t=e.status;"success"!==t&&alert(t),a.setState({message:""})}))}},{key:"MessageCard",value:function(e){var a=e.message,t=(e.room,e.from);if("admin"!==t){var n="message-container recieve";return this.state.name===t&&(n="message-container send"),r.a.createElement("div",{className:n},r.a.createElement("a",null,a),r.a.createElement("div",{className:"message-details"},r.a.createElement("div",null,t)))}return r.a.createElement("div",{className:"admin-container"},r.a.createElement("div",{className:"admin-message"},a))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatbox"},r.a.createElement("div",{className:"chatbox-formNavContainer"},r.a.createElement(S.a,{href:"/React_realtime_chat_client/",className:"navbutton back"},r.a.createElement(x.a,null)),r.a.createElement("h1",null,"Room: ",this.state.room),r.a.createElement(S.a,{href:"/React_realtime_chat_client/",className:"navbutton logout"},r.a.createElement(w.a,null))),r.a.createElement("div",{className:"chatbox-inner"},r.a.createElement("div",{className:"message-list"},r.a.createElement("ul",null,this.state.messagelist.map((function(a){return r.a.createElement("li",{ref:"mess",key:a.message},e.MessageCard({message:a.message,room:a.room,from:a.from}))})))),r.a.createElement("div",{className:"input-container"},r.a.createElement(i.a,{variant:"standard",fullWidth:!0,type:"text",id:"message",value:this.state.message,placeholder:"Type your Message",onChange:function(a){e.setState({message:a.target.value})},onKeyPress:function(a){console.log(a.key),"Enter"===a.key&&e.sendMessage(a.target.value)}}),r.a.createElement(S.a,{onClick:function(){e.sendMessage(e.state.message)}},r.a.createElement(M.a,null)))))}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}}]),t}(n.Component),B=r.a.createElement(v.a,{basename:"/React_realtime_chat_client"},r.a.createElement("main",null,r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",component:function(){var e=Object(n.useState)(""),a=Object(l.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),v=s[0],E=s[1],p=f();return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:p.root},r.a.createElement(m.a,{alt:"Remy Sharp",src:"https://avatars0.githubusercontent.com/u/33596752?s=460&u=0306d4f90d57e0a81268b451373673d67925a615&v=4",className:p.large})),r.a.createElement("div",{className:"inputcontainer"},r.a.createElement(i.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Username",placeholder:"Enter your name to Login",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement(i.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"rid",label:"RoomID",placeholder:"Your Room ID",name:"rid",autoComplete:"id",autoFocus:!0,onChange:function(e){return E(e.target.value)}}),r.a.createElement(u.a,{href:"/React_realtime_chat_client"+"/chat?name=".concat(t,"&rid=").concat(v)},r.a.createElement(d.a,{type:"submit",fullWidth:!0,color:"primary",variant:"contained",onClick:function(e){return h(e,t,v)}},"Enter Chat Room")),r.a.createElement("div",{className:"input-item"},r.a.createElement("div",null,r.a.createElement(g.a,{variant:"body2",color:"textSecondary",align:"center"},"Designed and Developed by"),r.a.createElement(g.a,{variant:"body2",color:"textSecondary",align:"center"},r.a.createElement(u.a,{color:"inherit",href:"https://material-ui.com/"},r.a.createElement("strong",null," Jerry S Joseph"))," "))),r.a.createElement("div",{className:"input-item"},r.a.createElement(g.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(u.a,{color:"inherit",href:"https://material-ui.com/"},"Jerry S Joseph")," ",(new Date).getFullYear(),"."))))},exact:!0}),r.a.createElement(E.a,{path:"/chat",component:function(e){var a=e.location,t=Object(n.useState)(""),c=Object(l.a)(t,2),o=(c[0],c[1]),s=Object(n.useState)(""),i=Object(l.a)(s,2),m=(i[0],i[1]),u=Object(n.useState)(""),d=Object(l.a)(u,2),g=d[0];return d[1],Object(n.useEffect)((function(){var e=O.a.parse(a.search),t=e.name,n=e.rid;return console.log(t,n),m(n),o(t),console.log(J),J.emit("join",{name:t,rid:n},(function(e){var a=e.error;alert(a)})),J.on("reconnect",(function(){J.emit("join",{name:t,rid:n},(function(e){var a=e.error;alert(a)}))})),function(){J.emit("disconnect"),J.off()}}),[a.search]),Object(n.useEffect)((function(){J.on("message",(function(e){var a=e.message,t=e.room,n=e.from;console.log(n+":"+a+" in "+t)}))}),[g]),console.log(g),r.a.createElement("div",{className:"form-chat"},r.a.createElement(A,null),r.a.createElement(W,{location:a}))}}),r.a.createElement(E.a,{component:r.a.createElement("div",null,"404 Page not found")}))));o.a.render(B,document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.55447f6f.chunk.js.map