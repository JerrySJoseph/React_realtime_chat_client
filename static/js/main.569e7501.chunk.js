(this.webpackJsonprealtime_chat=this.webpackJsonprealtime_chat||[]).push([[0],{208:function(e,a,t){e.exports=t(392)},213:function(e,a,t){},217:function(e,a,t){},222:function(e,a){},224:function(e,a){},240:function(e,a){},242:function(e,a){},251:function(e,a){},253:function(e,a){},278:function(e,a){},280:function(e,a){},281:function(e,a){},287:function(e,a){},289:function(e,a){},307:function(e,a){},309:function(e,a){},321:function(e,a){},324:function(e,a){},365:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=365},386:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=386},392:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(13),c=t.n(o),l=t(35),s=(t(213),t(423)),i=t(430),m=t(431),u=t(427),d=t(428),f=t(393),g=Object(s.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(25),height:e.spacing(25)}}}));var h=function(e,a,t){a&&t||(e.preventDefault(),alert("All fields are mandatory"))};var v=t(194),E=t(14),p=t(188),b=t(189),y=t(197),N=t(196),O=(t(217),t(106)),j=t.n(O),C=t(190),k=t.n(C),S=t(429),x=t(191),w=t.n(x),D=t(192),M=t.n(D),_=t(193),T=t.n(_),U=k()("https://realtimechat-server1.herokuapp.com/"),J=Object(s.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}},small:{width:e.spacing(3),height:e.spacing(3)},large:{width:e.spacing(8),height:e.spacing(8),color:e.palette.getContrastText("#4849A1"),backgroundColor:"#4849A1"}}}));function R(){var e=J(),a=Object(n.useState)([]),t=Object(l.a)(a,2),o=t[0],c=t[1];if(Object(n.useEffect)((function(){U.on("users",(function(e){var a=e.online;o.length=0,c(o.concat(a))})),console.log(o)}),[o]),U)return r.a.createElement("div",{className:"online-form"},r.a.createElement("div",{className:"online-formNavContainer"},r.a.createElement("h2",null,"Active Users (",o.length,")")),r.a.createElement("div",{className:"online-formList"},r.a.createElement("ul",{style:{listStyleType:"none",paddingLeft:0}},o.map((function(a){return r.a.createElement("li",{key:a.name,className:"online-listitem"},r.a.createElement("div",{className:"online-formCard"},r.a.createElement("div",{className:e.root},r.a.createElement(m.a,{className:e.large},a.name.charAt(0).toUpperCase())),r.a.createElement("h2",null,a.name)))})))))}var A=function(e){Object(y.a)(t,e);var a=Object(N.a)(t);function t(e){var n;Object(p.a)(this,t),(n=a.call(this,e)).scrollToBottom=function(){n.refs.mess.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})};var r=j.a.parse(n.props.location.search),o=r.name,c=r.rid;return n.state={name:o,room:c,message:"",messagelist:[{message:"Welcome ".concat(o,"!"),room:c,from:"admin"}]},U.on("message",(function(e){var a=e.message,t=e.room,r=e.from;console.log(r+":"+a+" in "+t),n.setState({messagelist:n.state.messagelist.concat({message:a,room:t,from:r})})})),n}return Object(b.a)(t,[{key:"sendMessage",value:function(e){var a=this;console.log("Sending message "+e),e&&U.emit("sendMessage",U.id,this.state.room,e,(function(e){var t=e.status;"success"!==t&&alert(t),a.setState({message:""})}))}},{key:"MessageCard",value:function(e){var a=e.message,t=(e.room,e.from);if("admin"!==t){var n="message-container recieve";return this.state.name===t&&(n="message-container send"),r.a.createElement("div",{className:n},r.a.createElement("a",null,a),r.a.createElement("div",{className:"message-details"},r.a.createElement("div",null,t)))}return r.a.createElement("div",{className:"admin-container"},r.a.createElement("div",{className:"admin-message"},a))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatbox"},r.a.createElement("div",{className:"chatbox-formNavContainer"},r.a.createElement(S.a,{href:"/",className:"navbutton back"},r.a.createElement(w.a,null)),r.a.createElement("h1",null,"Room: ",this.state.room),r.a.createElement(S.a,{href:"/",className:"navbutton logout"},r.a.createElement(M.a,null))),r.a.createElement("div",{className:"chatbox-inner"},r.a.createElement("div",{className:"message-list"},r.a.createElement("ul",null,this.state.messagelist.map((function(a){return r.a.createElement("li",{ref:"mess",key:a.message},e.MessageCard({message:a.message,room:a.room,from:a.from}))})))),r.a.createElement("div",{className:"input-container"},r.a.createElement(i.a,{variant:"standard",fullWidth:!0,type:"text",id:"message",value:this.state.message,placeholder:"Type your Message",onChange:function(a){e.setState({message:a.target.value})},onKeyPress:function(a){console.log(a.key),"Enter"===a.key&&e.sendMessage(a.target.value)}}),r.a.createElement(S.a,{onClick:function(){e.sendMessage(e.state.message)}},r.a.createElement(T.a,null)))))}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}}]),t}(n.Component),F=r.a.createElement(v.a,{basename:"/React_realtime_chat_client"},r.a.createElement("main",null,r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",component:function(){var e=Object(n.useState)(""),a=Object(l.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),v=s[0],E=s[1],p=g();return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:p.root},r.a.createElement(m.a,{alt:"Remy Sharp",src:"https://avatars0.githubusercontent.com/u/33596752?s=460&u=0306d4f90d57e0a81268b451373673d67925a615&v=4",className:p.large})),r.a.createElement("div",{className:"inputcontainer"},r.a.createElement(i.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Username",placeholder:"Enter your name to Login",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return o(e.target.value)}}),r.a.createElement(i.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"rid",label:"RoomID",placeholder:"Your Room ID",name:"rid",autoComplete:"id",autoFocus:!0,onChange:function(e){return E(e.target.value)}}),r.a.createElement(u.a,{href:"/chat?name=".concat(t,"&rid=").concat(v)},r.a.createElement(d.a,{type:"submit",fullWidth:!0,color:"primary",variant:"contained",onClick:function(e){return h(e,t,v)}},"Enter Chat Room")),r.a.createElement("div",{className:"input-item"},r.a.createElement("div",null,r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},"Designed and Developed by"),r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},r.a.createElement(u.a,{color:"inherit",href:"https://material-ui.com/"},r.a.createElement("strong",null," Jerry S Joseph"))," "))),r.a.createElement("div",{className:"input-item"},r.a.createElement(f.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(u.a,{color:"inherit",href:"https://material-ui.com/"},"Jerry S Joseph")," ",(new Date).getFullYear(),"."))))},exact:!0}),r.a.createElement(E.a,{path:"/chat",component:function(e){var a=e.location,t=Object(n.useState)(""),o=Object(l.a)(t,2),c=(o[0],o[1]),s=Object(n.useState)(""),i=Object(l.a)(s,2),m=(i[0],i[1]),u=Object(n.useState)(""),d=Object(l.a)(u,2),f=d[0];return d[1],Object(n.useEffect)((function(){var e=j.a.parse(a.search),t=e.name,n=e.rid;return console.log(t,n),m(n),c(t),console.log(U),U.emit("join",{name:t,rid:n},(function(e){var a=e.error;alert(a)})),U.on("reconnect",(function(){U.emit("join",{name:t,rid:n},(function(e){var a=e.error;alert(a)}))})),function(){U.emit("disconnect"),U.off()}}),[a.search]),Object(n.useEffect)((function(){U.on("message",(function(e){var a=e.message,t=e.room,n=e.from;console.log(n+":"+a+" in "+t)}))}),[f]),console.log(f),r.a.createElement("div",{className:"form-chat"},r.a.createElement(R,null),r.a.createElement(A,{location:a}))}}),r.a.createElement(E.a,{component:r.a.createElement("div",null,"404 Page not found")}))));c.a.render(F,document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.569e7501.chunk.js.map